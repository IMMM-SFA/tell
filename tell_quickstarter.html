<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to the tell Quickstarter! &mdash; TELL  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="_static/style.css?v=cf4e22e0" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="User Guide" href="user_guide.html" />
    <link rel="prev" title="tell" href="README.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            TELL
          </a>
              <div class="version">
                1.3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstarter Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgement.html">Acknowledgement</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TELL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Welcome to the <code class="docutils literal notranslate"><span class="pre">tell</span></code> Quickstarter!</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tell_quickstarter.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="welcome-to-the-tell-quickstarter">
<h1>Welcome to the <code class="docutils literal notranslate"><span class="pre">tell</span></code> Quickstarter!<a class="headerlink" href="#welcome-to-the-tell-quickstarter" title="Link to this heading"></a></h1>
<section id="tell-is-an-open-source-python-package-for-projecting-future-electricty-demand-in-the-united-states">
<h2><strong>``tell`` is an open-source Python package for projecting future electricty demand in the United States.</strong><a class="headerlink" href="#tell-is-an-open-source-python-package-for-projecting-future-electricty-demand-in-the-united-states" title="Link to this heading"></a></h2>
<section id="a-little-about-tell">
<h3>A little about <code class="docutils literal notranslate"><span class="pre">tell</span></code><a class="headerlink" href="#a-little-about-tell" title="Link to this heading"></a></h3>
<p>The Total ELectricity Load (TELL) model projects the short- and
long-term evoluation of hourly electricity demand (load) in response to
future changes in weather and climate. The purpose of <code class="docutils literal notranslate"><span class="pre">tell</span></code> is to
generate end-of-century hourly profiles of electricity demand across the
entire Conterminous United States (CONUS) at a spatial resolution
adequate for input to a unit commitment/economic dispatch (UC/ED) model
while also maintaining consistency with the long-term growth and
evolution of annual state-level electricity demand projected by an
economically driven human-Earth system model. <code class="docutils literal notranslate"><span class="pre">tell</span></code> takes as input
future projections of the hourly time-series of meteorology and decadal
populations and uses the temporal variations in weather to project
hourly profiles of total electricity demand. The core predictions in
<code class="docutils literal notranslate"><span class="pre">tell</span></code> are based on a series of multilayer perceptron (MLP) models for
individual Balancing Authorities (BAs). Those MLP models are trained on
historical observations of weather and electricity demand. Hourly
projections from <code class="docutils literal notranslate"><span class="pre">tell</span></code> are scaled to match the annual state-level
total electricity loads projected by the U.S. version of the Global
Change Analysis Model (GCAM-USA). GCAM-USA captures the long-term
co-evolution of the human-Earth system. Using this unique approach
allows <code class="docutils literal notranslate"><span class="pre">tell</span></code> to reflect both changes in the shape of the load profile
due to variations in weather and the long-term evolution of energy
demand due to changes in population, technology, and economics. <code class="docutils literal notranslate"><span class="pre">tell</span></code>
is unique from other load forecasting models in that it features an
explicit spatial component that allows us to relate projected loads to
where they would occur spatially within a grid operations model. The
output of <code class="docutils literal notranslate"><span class="pre">tell</span></code> is a series of hourly projections for future
electricity demand at the county, state, and BA scale that are
quantitatively and conceptually consistent with one another. More
information about how the model works and how it can be applied are
available on the <a class="reference external" href="https://immm-sfa.github.io/tell/">Read the Docs</a>
site for <code class="docutils literal notranslate"><span class="pre">tell</span></code>.</p>
</section>
<section id="lets-get-started">
<h3>Lets get started!<a class="headerlink" href="#lets-get-started" title="Link to this heading"></a></h3>
<p>In this quickstarter we will walk through a series of steps for
exploring <code class="docutils literal notranslate"><span class="pre">tell</span></code>, starting with importing the package and ending with
visualizing the output. This quickstarter is based on a subset of
example forcing data for <code class="docutils literal notranslate"><span class="pre">tell</span></code>. This allows the user to walk through
the entire <code class="docutils literal notranslate"><span class="pre">tell</span></code> package in a matter of minutes. For the
visualizations throughout this notebook, the user can choose whether or
not to save these plots by setting the <code class="docutils literal notranslate"><span class="pre">save_images</span></code> and
<code class="docutils literal notranslate"><span class="pre">image_resolution</span></code> flags in each function.</p>
</section>
<section id="install-tell">
<h3>1. Install <code class="docutils literal notranslate"><span class="pre">tell</span></code><a class="headerlink" href="#install-tell" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">tell</span></code> is available via GitHub repository by using the pip install
functionality. <code class="docutils literal notranslate"><span class="pre">tell</span></code> requires a Python version between 3.8 and 4.0 as
well as a pip install to import the package. <code class="docutils literal notranslate"><span class="pre">tell</span></code> has been tested on
Windows and Mac platforms. (Note: For those installing on Windows, <code class="docutils literal notranslate"><span class="pre">tell</span></code> is
supported by GeoPandas functionality.  Please see suggestions for installing
GeoPandas on Windows here:
<a class="reference external" href="https://geopandas.org/en/stable/getting_started/install.html">https://geopandas.org/en/stable/getting_started/install.html</a>)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Start by importing the TELL package and information about your operating system:</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">tell</span>
</pre></div>
</div>
</section>
<section id="install-the-package-of-data-underpinning-tell">
<h3>2. Install the package of data underpinning <code class="docutils literal notranslate"><span class="pre">tell</span></code><a class="headerlink" href="#install-the-package-of-data-underpinning-tell" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">tell</span></code> is based on open, publicly accessible data. For
convienence, we’ve packaged all of the data underpinning the <code class="docutils literal notranslate"><span class="pre">tell</span></code>
quickstarter notebook into a <a class="reference external" href="https://zenodo.org/record/6578641#.Yo1R7ZPMJTY">Zenodo data
package</a>. In order to
run this notebook, first set the local directory where you would like to
store the package data and the run the <code class="docutils literal notranslate"><span class="pre">install_quickstarter_data</span></code>
function below. Note that the quickstarter data package will require
~650 MB of storage and can take several minutes to download. You will
also need a dataset with sample forcing data for <code class="docutils literal notranslate"><span class="pre">tell</span></code>, also
available in a <a class="reference external" href="https://zenodo.org/record/6354665#.Yi-_PRDMJTY">Zenodo data
package</a>. The sample
forcing data package will require ~250 MB of storage.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Identify the current working directory, the subdirectory where the data will be stored, and the image output subdirectory:</span>
<span class="n">current_dir</span> <span class="o">=</span>  <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()))</span>
<span class="n">tell_data_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_dir</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;tell_data&#39;</span><span class="p">)</span>
<span class="n">tell_image_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tell_data_dir</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;visualizations&#39;</span><span class="p">)</span>

<span class="c1"># If the &quot;tell_data_dir&quot; subdirectory doesn&#39;t exist then create it:</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">tell_data_dir</span><span class="p">):</span>
   <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">tell_data_dir</span><span class="p">)</span>

<span class="c1"># If the &quot;tell_image_dir&quot; subdirectory doesn&#39;t exist then create it:</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">tell_image_dir</span><span class="p">):</span>
   <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">tell_image_dir</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download the TELL quickstarter data package from Zenodo:</span>
<span class="n">tell</span><span class="o">.</span><span class="n">install_quickstarter_data</span><span class="p">(</span><span class="n">data_dir</span> <span class="o">=</span> <span class="n">tell_data_dir</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download the TELL sample forcing data package from Zenodo:</span>
<span class="n">tell</span><span class="o">.</span><span class="n">install_sample_forcing_data</span><span class="p">(</span><span class="n">data_dir</span> <span class="o">=</span> <span class="n">tell_data_dir</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="mlp-model-training-and-projection">
<h3>3. MLP model training and projection<a class="headerlink" href="#mlp-model-training-and-projection" title="Link to this heading"></a></h3>
<p>This section of the notebook takes the data processed in the
<code class="docutils literal notranslate"><span class="pre">tell_data_preprocessing.ipynb</span></code> notebook and trains a multilayer
perceptron (MLP) model for each of the 54 BAs in <code class="docutils literal notranslate"><span class="pre">tell</span></code>. The MLP
models use temporal variations in weather to project hourly demand. More
information about this approach is in the MLP section of the <code class="docutils literal notranslate"><span class="pre">tell</span></code>
<a class="reference external" href="https://immm-sfa.github.io/tell/user_guide.html">User Guide</a>. We
include pre-trained models within the <code class="docutils literal notranslate"><span class="pre">tell</span></code> repository. If you want
to explore the model training aspect you can use the code in Section 3.1
to retrain the MLP models for a single BA or a batch of BAs. Note that
since the <code class="docutils literal notranslate"><span class="pre">save_model</span></code> parameter is set to false by default running
these training steps will not overwrite the models included in <code class="docutils literal notranslate"><span class="pre">tell</span></code>.
If you want to skip this step you can move to Section 3.2 to see how
<code class="docutils literal notranslate"><span class="pre">tell</span></code> projects future loads by BA using weather projections.</p>
</section>
</section>
<section id="mlp-training">
<h2>3.1. MLP training<a class="headerlink" href="#mlp-training" title="Link to this heading"></a></h2>
<p>The first step is to train the MLP models using the historical weather
and load datasets. The default settings for the MLP model training steps
are included in the <code class="docutils literal notranslate"><span class="pre">mlp_settings.yml</span></code> file included in the data
folder of the <code class="docutils literal notranslate"><span class="pre">tell</span></code> repository. By default the MLP models are trained
on data from 2016-2018 and evaluated using data from 2019. The time
windows for training and evaluating the models can be modified by
altering the <code class="docutils literal notranslate"><span class="pre">start_time</span></code>, <code class="docutils literal notranslate"><span class="pre">end_time</span></code>, and <code class="docutils literal notranslate"><span class="pre">split_datetime</span></code>
parameters when calling the <code class="docutils literal notranslate"><span class="pre">tell.train</span></code> function. The first code
block shows how to train the MLP models for a single BA. We also include
a function to do some basic analysis of the trained model’s performance.
More extensive evaluation of the <code class="docutils literal notranslate"><span class="pre">tell</span></code> predictive models is included
in the <code class="docutils literal notranslate"><span class="pre">tell_mlp_calibration_evaluation.ipynb</span></code> notebook.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># For more information about the training of predictive models you can call the help function:</span>
<span class="n">help</span><span class="p">(</span><span class="n">tell</span><span class="o">.</span><span class="n">train</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run the MLP training step for a single BA (i.e., &quot;region&quot;):</span>
<span class="n">prediction_df</span><span class="p">,</span> <span class="n">validation_df</span> <span class="o">=</span> <span class="n">tell</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="n">region</span> <span class="o">=</span> <span class="s1">&#39;PJM&#39;</span><span class="p">,</span>
                                          <span class="n">data_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tell_data_dir</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;tell_quickstarter_data&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;outputs&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;compiled_historical_data&#39;</span><span class="p">))</span>

<span class="c1"># View the head of the prediction dataframe that contains the time-series of projected load in the evaluation year:</span>
<span class="n">display</span><span class="p">(</span><span class="n">prediction_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>

<span class="c1"># View validation dataframe that contains error statistics for the trained model:</span>
<span class="n">validation_df</span>
</pre></div>
</div>
<p>You can also train multiple BAs at the same time using parallel
processing. The example code block below retrains the models for all BAs
in <code class="docutils literal notranslate"><span class="pre">tell</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate a list of BA abbreviations to process:</span>
<span class="n">ba_abbrev_list</span> <span class="o">=</span> <span class="n">tell</span><span class="o">.</span><span class="n">get_balancing_authority_to_model_dict</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

<span class="c1"># Run the MLP training step for the list of BAs using parallel processing streams:</span>
<span class="n">prediction_df</span><span class="p">,</span> <span class="n">validation_df</span> <span class="o">=</span> <span class="n">tell</span><span class="o">.</span><span class="n">train_batch</span><span class="p">(</span><span class="n">target_region_list</span> <span class="o">=</span> <span class="n">ba_abbrev_list</span><span class="p">,</span>
                                                <span class="n">data_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tell_data_dir</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;tell_quickstarter_data&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;outputs&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;compiled_historical_data&#39;</span><span class="p">),</span>
                                                <span class="n">n_jobs</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># View the validation dataframe that contains error statistics for the trained models:</span>
<span class="n">validation_df</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the statistical performance (e.g., RMS_ABS, RMS_NORM, MAPE, or R2) of the predictive models across all the BAs in TELL:</span>
<span class="n">tell</span><span class="o">.</span><span class="n">plot_mlp_summary_statistics</span><span class="p">(</span><span class="n">validation_df</span><span class="p">,</span>
                                 <span class="n">image_output_dir</span> <span class="o">=</span> <span class="n">tell_image_dir</span><span class="p">,</span>
                                 <span class="n">image_resolution</span> <span class="o">=</span> <span class="mi">150</span><span class="p">,</span>
                                 <span class="n">save_images</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="mlp-model-projection">
<h2>3.2. MLP model projection<a class="headerlink" href="#mlp-model-projection" title="Link to this heading"></a></h2>
<p>Next we use the trained MLP models to project future loads in each BA
using the sample forcing data downloaded in Section 2. The outcomes of
this projection step are then used in the forward execution of <code class="docutils literal notranslate"><span class="pre">tell</span></code>
in Section 4. The sample forcing data includes four years of future
meteorology for each BA: 2039, 2059, 2079, and 2099. Those are the only
valid options for the <code class="docutils literal notranslate"><span class="pre">year</span></code> variable when calling the prediciton
functions.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run the MLP prediction step for a single BA (i.e., &quot;region&quot;):</span>
<span class="n">pdf</span> <span class="o">=</span> <span class="n">tell</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">region</span> <span class="o">=</span> <span class="s1">&#39;ERCO&#39;</span><span class="p">,</span>
                   <span class="n">year</span> <span class="o">=</span> <span class="mi">2039</span><span class="p">,</span>
                   <span class="n">data_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tell_data_dir</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;sample_forcing_data&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;future_weather&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;rcp85hotter_ssp5&#39;</span><span class="p">),</span>
                   <span class="n">datetime_field_name</span> <span class="o">=</span> <span class="s1">&#39;Time_UTC&#39;</span><span class="p">,</span>
                   <span class="n">save_prediction</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                   <span class="n">prediction_output_directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tell_data_dir</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;tell_quickstarter_data&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;outputs&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;mlp_output&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;rcp85hotter_ssp5&#39;</span><span class="p">))</span>

<span class="c1"># View the prediction dataframe:</span>
<span class="n">pdf</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate a list of BA abbreviations to process:</span>
<span class="n">ba_abbrev_list</span> <span class="o">=</span> <span class="n">tell</span><span class="o">.</span><span class="n">get_balancing_authority_to_model_dict</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

<span class="c1"># Run the MLP prediction step for the list of BAs using parallel processing streams:</span>
<span class="n">pdf</span> <span class="o">=</span> <span class="n">tell</span><span class="o">.</span><span class="n">predict_batch</span><span class="p">(</span><span class="n">target_region_list</span> <span class="o">=</span> <span class="n">ba_abbrev_list</span><span class="p">,</span>
                         <span class="n">year</span> <span class="o">=</span> <span class="mi">2039</span><span class="p">,</span>
                         <span class="n">data_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tell_data_dir</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;sample_forcing_data&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;future_weather&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;rcp85hotter_ssp5&#39;</span><span class="p">),</span>
                         <span class="n">datetime_field_name</span> <span class="o">=</span> <span class="s1">&#39;Time_UTC&#39;</span><span class="p">,</span>
                         <span class="n">save_prediction</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                         <span class="n">prediction_output_directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tell_data_dir</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;tell_quickstarter_data&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;outputs&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;mlp_output&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;rcp85hotter_ssp5&#39;</span><span class="p">),</span>
                         <span class="n">n_jobs</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># View the prediction dataframe:</span>
<span class="n">pdf</span>
</pre></div>
</div>
<section id="model-forward-execution">
<h3>4. Model forward execution<a class="headerlink" href="#model-forward-execution" title="Link to this heading"></a></h3>
<p>This section of the <code class="docutils literal notranslate"><span class="pre">tell</span></code> workflow takes the .csv files produced by
the <code class="docutils literal notranslate"><span class="pre">tell</span></code> MLP models and distributes the projected load to the
counties that each BA operates in. The county-level hourly loads are
then summed to the state-level and scaled to match the state-level
annual loads produced by GCAM-USA. Four sets of output files are
generated: county-level hourly loads, state-level hourly loads, hourly
loads for each BA, and a summary file that includes state-level annual
loads from TELL and GCAM-USA as well as the scaling factors. Note that
since it takes a while to write out the county-level output data this
output is optional. To output county-level load projections just set the
<code class="docutils literal notranslate"><span class="pre">save_county_data</span></code> flag to true.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run the TELL model forward in time for a given year:</span>
<span class="n">summary_df</span><span class="p">,</span> <span class="n">ba_time_series_df</span><span class="p">,</span> <span class="n">state_time_series_df</span> <span class="o">=</span> <span class="n">tell</span><span class="o">.</span><span class="n">execute_forward</span><span class="p">(</span><span class="n">year_to_process</span> <span class="o">=</span> <span class="s1">&#39;2039&#39;</span><span class="p">,</span>
                                                                       <span class="n">gcam_target_year</span> <span class="o">=</span> <span class="s1">&#39;2039&#39;</span><span class="p">,</span>
                                                                       <span class="n">scenario_to_process</span> <span class="o">=</span> <span class="s1">&#39;rcp85hotter_ssp5&#39;</span><span class="p">,</span>
                                                                       <span class="n">data_output_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tell_data_dir</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;tell_quickstarter_data&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;outputs&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;tell_output&#39;</span><span class="p">),</span>
                                                                       <span class="n">gcam_usa_input_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tell_data_dir</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;sample_forcing_data&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;sample_gcam_usa_data&#39;</span><span class="p">),</span>
                                                                       <span class="n">map_input_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tell_data_dir</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;tell_quickstarter_data&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;outputs&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;ba_service_territory&#39;</span><span class="p">),</span>
                                                                       <span class="n">mlp_input_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tell_data_dir</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;tell_quickstarter_data&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;outputs&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;mlp_output&#39;</span><span class="p">),</span>
                                                                       <span class="n">pop_input_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tell_data_dir</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;sample_forcing_data&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;sample_population_projections&#39;</span><span class="p">),</span>
                                                                       <span class="n">save_county_data</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="model-visualization">
<h3>5. Model visualization<a class="headerlink" href="#model-visualization" title="Link to this heading"></a></h3>
<p>The final section of this quickstarter notebook plots some of the output
of <code class="docutils literal notranslate"><span class="pre">tell</span></code> to give the user a flavor of what the model is doing. Note
that the sample output data in the <code class="docutils literal notranslate"><span class="pre">tell</span></code> quickstarter covers the
years 2039, 2059, 2079, and 2099 so those are the only valid values for
the <code class="docutils literal notranslate"><span class="pre">year_to_plot</span></code> variable in each function call.</p>
</section>
</section>
<section id="plot-the-state-annual-total-loads-from-gcam-usa-and-tell">
<h2>5.1. Plot the state annual total loads from GCAM-USA and <code class="docutils literal notranslate"><span class="pre">tell</span></code><a class="headerlink" href="#plot-the-state-annual-total-loads-from-gcam-usa-and-tell" title="Link to this heading"></a></h2>
<p>The first visualization plots the annual total loads from both GCAM-USA
and <code class="docutils literal notranslate"><span class="pre">tell</span></code>. The data plotted here are in units of TWh and the <code class="docutils literal notranslate"><span class="pre">tell</span></code>
values are the unscaled projections. The scaled projections <code class="docutils literal notranslate"><span class="pre">tell</span></code> are
by definition equal to those from GCAM-USA.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the annual total loads from both GCAM-USA and TELL:</span>
<span class="n">tell</span><span class="o">.</span><span class="n">plot_state_annual_total_loads</span><span class="p">(</span><span class="n">year_to_plot</span> <span class="o">=</span> <span class="s1">&#39;2039&#39;</span><span class="p">,</span>
                                   <span class="n">gcam_target_year</span> <span class="o">=</span> <span class="s1">&#39;2039&#39;</span><span class="p">,</span>
                                   <span class="n">scenario_to_plot</span> <span class="o">=</span> <span class="s1">&#39;rcp85hotter_ssp5&#39;</span><span class="p">,</span>
                                   <span class="n">data_input_dir</span> <span class="o">=</span> <span class="n">tell_data_dir</span><span class="p">,</span>
                                   <span class="n">image_output_dir</span> <span class="o">=</span> <span class="n">tell_image_dir</span><span class="p">,</span>
                                   <span class="n">image_resolution</span> <span class="o">=</span> <span class="mi">150</span><span class="p">,</span>
                                   <span class="n">save_images</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="plot-the-time-series-of-total-hourly-loads-for-a-given-state">
<h2>5.2. Plot the time-series of total hourly loads for a given state<a class="headerlink" href="#plot-the-time-series-of-total-hourly-loads-for-a-given-state" title="Link to this heading"></a></h2>
<p>Here we plot time-series of the raw (unscaled) and scaled total loads
from <code class="docutils literal notranslate"><span class="pre">tell</span></code> at the state level. The user specifies which state they
want to plot using the `state_to_plot” variable in the function call.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the time-series of raw and scaled loads from TELL at the state level for a user-specified state:</span>
<span class="n">tell</span><span class="o">.</span><span class="n">plot_state_load_time_series</span><span class="p">(</span><span class="n">state_to_plot</span> <span class="o">=</span> <span class="s1">&#39;Connecticut&#39;</span><span class="p">,</span>
                                 <span class="n">year_to_plot</span> <span class="o">=</span> <span class="s1">&#39;2039&#39;</span><span class="p">,</span>
                                 <span class="n">gcam_target_year</span> <span class="o">=</span> <span class="s1">&#39;2039&#39;</span><span class="p">,</span>
                                 <span class="n">scenario_to_plot</span> <span class="o">=</span> <span class="s1">&#39;rcp85hotter_ssp5&#39;</span><span class="p">,</span>
                                 <span class="n">data_input_dir</span> <span class="o">=</span> <span class="n">tell_data_dir</span><span class="p">,</span>
                                 <span class="n">image_output_dir</span> <span class="o">=</span> <span class="n">tell_image_dir</span><span class="p">,</span>
                                 <span class="n">image_resolution</span> <span class="o">=</span> <span class="mi">150</span><span class="p">,</span>
                                 <span class="n">save_images</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="plot-the-load-duration-curve-for-a-given-state">
<h2>5.3. Plot the load duration curve for a given state<a class="headerlink" href="#plot-the-load-duration-curve-for-a-given-state" title="Link to this heading"></a></h2>
<p>Our last plot at the state level is the load duration curve which shows
the frequency at which a given load occurs in a state. The user
specifies which state they want to plot using the “state_to_plot”
variable in the function call.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the load duration curve at the state level for a user-specified state:</span>
<span class="n">tell</span><span class="o">.</span><span class="n">plot_state_load_duration_curve</span><span class="p">(</span><span class="n">state_to_plot</span> <span class="o">=</span> <span class="s1">&#39;North Carolina&#39;</span><span class="p">,</span>
                                    <span class="n">year_to_plot</span> <span class="o">=</span> <span class="s1">&#39;2039&#39;</span><span class="p">,</span>
                                    <span class="n">gcam_target_year</span> <span class="o">=</span> <span class="s1">&#39;2039&#39;</span><span class="p">,</span>
                                    <span class="n">scenario_to_plot</span> <span class="o">=</span> <span class="s1">&#39;rcp85hotter_ssp5&#39;</span><span class="p">,</span>
                                    <span class="n">data_input_dir</span> <span class="o">=</span> <span class="n">tell_data_dir</span><span class="p">,</span>
                                    <span class="n">image_output_dir</span> <span class="o">=</span> <span class="n">tell_image_dir</span><span class="p">,</span>
                                    <span class="n">image_resolution</span> <span class="o">=</span> <span class="mi">150</span><span class="p">,</span>
                                    <span class="n">save_images</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="plot-the-time-series-of-total-hourly-loads-for-a-given-ba">
<h2>5.4. Plot the time-series of total hourly loads for a given BA<a class="headerlink" href="#plot-the-time-series-of-total-hourly-loads-for-a-given-ba" title="Link to this heading"></a></h2>
<p>Our final visualization plots the time-series of the raw (unscaled) and
scaled total loads from <code class="docutils literal notranslate"><span class="pre">tell</span></code> at the BA level. The user specifies
which BA they want to plot using the “ba_to_plot” variable in the
function call.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the time-series of raw and scaled loads from TELL at the BA level for a user-specified BA (e.g., PJM, CISO, ERCO, etc.):</span>
<span class="n">tell</span><span class="o">.</span><span class="n">plot_ba_load_time_series</span><span class="p">(</span><span class="n">ba_to_plot</span> <span class="o">=</span> <span class="s1">&#39;NYIS&#39;</span><span class="p">,</span>
                              <span class="n">year_to_plot</span> <span class="o">=</span> <span class="s1">&#39;2039&#39;</span><span class="p">,</span>
                              <span class="n">gcam_target_year</span> <span class="o">=</span> <span class="s1">&#39;2039&#39;</span><span class="p">,</span>
                              <span class="n">scenario_to_plot</span> <span class="o">=</span> <span class="s1">&#39;rcp85hotter_ssp5&#39;</span><span class="p">,</span>
                              <span class="n">data_input_dir</span> <span class="o">=</span> <span class="n">tell_data_dir</span><span class="p">,</span>
                              <span class="n">image_output_dir</span> <span class="o">=</span> <span class="n">tell_image_dir</span><span class="p">,</span>
                              <span class="n">image_resolution</span> <span class="o">=</span> <span class="mi">150</span><span class="p">,</span>
                              <span class="n">save_images</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="README.html" class="btn btn-neutral float-left" title="tell" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="user_guide.html" class="btn btn-neutral float-right" title="User Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Batelle Memorial Institute.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>